{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\views\\bookType.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\views\\bookType.vue","mtime":1567916745562},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"bookType\",\n  data: function data() {\n    return {\n      bookMsg: [{\n        img: '',\n        name: '',\n        type: '',\n        number: '',\n        Author: '',\n        remaining: ''\n      }],\n      msg: [],\n      dismissSecs: 1,\n      dismissCountDown: 0,\n      day: 1\n    };\n  },\n  methods: {\n    showModal: function showModal(id) {\n      this.bookMsg = this.allbook.filter(function (bookmsg) {\n        return bookmsg.number == id;\n      });\n      this.$refs['my-modal'].show();\n    },\n    lendBook: function lendBook() {\n      var _this = this;\n\n      var loginUserMsg = this.$store.getters.loginMsg;\n\n      if (loginUserMsg.loginStatus == '未登录') {\n        this.msg[0] = '请先登录';\n        this.msg[1] = 'danger';\n        this.dismissCountDown = this.dismissSecs; //弹出警告框\n      } else {\n        var s = true;\n        loginUserMsg.loginUser.lend.forEach(function (item) {\n          if (item.bookId == _this.bookMsg[0].number) {\n            _this.msg[0] = '你已借用此书籍';\n            _this.msg[1] = 'warning';\n            _this.dismissCountDown = _this.dismissSecs; //弹出警告框\n\n            s = false;\n            return;\n          }\n        });\n        console.log(s);\n\n        if (s) {\n          this.msg[0] = '借用成功';\n          this.msg[1] = 'success';\n          this.dismissCountDown = this.dismissSecs; //弹出警告框\n\n          var lendBook = {\n            bookId: this.bookMsg[0].number,\n            startTime: new Date(),\n            day: this.day\n          };\n          this.$store.commit('lendBook', lendBook);\n        }\n      }\n    }\n  },\n  computed: {\n    wxbook: function wxbook() {\n      //通过方法访问\n      return this.$store.getters.wxBook;\n    },\n    lsbook: function lsbook() {\n      //通过方法访问\n      return this.$store.getters.lsBook;\n    },\n    zxbook: function zxbook() {\n      //通过方法访问\n      return this.$store.getters.zxBook;\n    },\n    kjbook: function kjbook() {\n      //通过方法访问\n      return this.$store.getters.kjBook;\n    },\n    shkxbook: function shkxbook() {\n      //通过方法访问\n      return this.$store.getters.shkxBook;\n    },\n    ysbook: function ysbook() {\n      //通过方法访问\n      return this.$store.getters.ysBook;\n    },\n    allbook: function allbook() {\n      //通过方法访问\n      return this.$store.getters.allBook;\n    },\n    tjbook: function tjbook() {\n      //通过方法访问\n      return this.$store.getters.tjBook;\n    }\n  }\n};",{"version":3,"sources":["bookType.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"bookType h-100\">\r\n        <b-tabs content-class=\"mt-3\" pills card vertical justified>\r\n            <b-tab title=\"全部\" >\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col sm=\"12\" xl=\"4\" @click=\"showModal(item.number)\" v-for=\"item in allbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"推荐图书\" active>\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in tjbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"文学\" >\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in wxbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"历史\">\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in lsbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"哲学\">\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in zxbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"科技\">\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in kjbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"社会科学\">\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in shkxbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n            <b-tab title=\"艺术\">\r\n                <div style=\"display: flex;flex-wrap: wrap\">\r\n                    <b-col @click=\"showModal(item.number)\" sm=\"12\" xl=\"4\" v-for=\"item in ysbook\" :key=\"item.number\" style=\"display: flex;margin-top: 15px\">\r\n                        <div style=\"width: 30% \" class=\"arrow\"><img :src=\"item.img\" alt=\"\" style=\"border-radius: 10px\"></div>\r\n                        <div style=\"margin-left: 20px\" class=\"arrow\">\r\n                            <h4>{{item.name}}</h4>\r\n                            <p style=\"margin: 4px\">{{item.type}}类</p>\r\n                            <p style=\"margin: 4px\">书号：{{item.number}}</p>\r\n                            <p style=\"margin: 4px\">作者：{{item.Author}}</p>\r\n                            <p style=\"margin: 4px\">剩余：{{item.remaining}}</p>\r\n                        </div>\r\n                    </b-col>\r\n                </div>\r\n            </b-tab>\r\n        </b-tabs>\r\n        <b-modal ref=\"my-modal\" hide-footer title=\"图书信息\">\r\n            <b-alert :show=\"dismissCountDown\" dismissible :variant=\"msg[1]\" @dismissed=\"dismissCountDown=0\" fade>\r\n                <p style=\"margin: 0px\">{{msg[0]}}</p>\r\n            </b-alert><!--警告框-->\r\n            <b-col  sm=\"12\"   style=\"display: flex;margin-top: 15px;flex-wrap: wrap\">\r\n                <b-col cols=\"12\" sm=\"4\" xl=\"5\" style=\"margin-bottom: 20px\"><img :src=\"bookMsg[0].img\" alt=\"\" class=\"imgs\"></b-col>\r\n                <b-col cols=\"12\" sm=\"8\" xl=\"7\">\r\n                    <h4>{{bookMsg[0].name}}</h4>\r\n                    <p style=\"margin: 4px\">{{bookMsg[0].type}}类</p>\r\n                    <p style=\"margin: 4px\">书号：{{bookMsg[0].number}}</p>\r\n                    <p style=\"margin: 4px\">作者：{{bookMsg[0].Author}}</p>\r\n                    <p style=\"margin: 4px\">剩余：{{bookMsg[0].remaining}}</p>\r\n                    <p style=\"margin: 4px\">简介：{{bookMsg[0].Introduction}}</p>\r\n                </b-col>\r\n                <b-input-group style=\"margin: 0px 16px;display: -webkit-box;\">\r\n\r\n                    <b-form-input type=\"number\" min=\"1.00\" style=\"border-radius: 0.25rem;\" v-model=\"day\"></b-form-input>\r\n\r\n                    <b-input-group-append>\r\n                        <p style=\"    margin: 0px;width: 29px;height: calc(1.5em + 0.75rem + 8px);color: #070707;position: absolute;right: 120px;z-index: 10;text-align: center;line-height: calc(1.5em + 0.75rem);\">天</p>\r\n                        <b-button variant=\"info\" block  @click=\"lendBook()\">借用书籍</b-button>\r\n                    </b-input-group-append>\r\n                </b-input-group>\r\n\r\n            </b-col>\r\n        </b-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"bookType\",\r\n        data(){\r\n            return {\r\n                bookMsg:[{img:'',name:'',type:'',number:'',Author:'',remaining:''}],\r\n                msg:[],\r\n                dismissSecs: 1,\r\n                dismissCountDown: 0,\r\n                day:1\r\n            }\r\n        },\r\n        methods:{\r\n            showModal:function (id) {\r\n                this.bookMsg = this.allbook.filter( bookmsg => {\r\n                    return  bookmsg.number == id\r\n                })\r\n                this.$refs['my-modal'].show()\r\n            },\r\n            lendBook:function () {\r\n                let loginUserMsg = this.$store.getters.loginMsg\r\n                if (loginUserMsg.loginStatus == '未登录'){\r\n                    this.msg[0] = '请先登录'\r\n                    this.msg[1] = 'danger'\r\n                    this.dismissCountDown = this.dismissSecs//弹出警告框\r\n                }else{\r\n                    var s = true\r\n                    loginUserMsg.loginUser.lend.forEach(item => {\r\n                        if(item.bookId == this.bookMsg[0].number){\r\n                            this.msg[0] = '你已借用此书籍'\r\n                            this.msg[1] = 'warning'\r\n                            this.dismissCountDown = this.dismissSecs//弹出警告框\r\n                            s = false\r\n                            return\r\n                        }\r\n                    })\r\n                    console.log(s)\r\n                    if(s){\r\n                        this.msg[0] = '借用成功'\r\n                        this.msg[1] = 'success'\r\n                        this.dismissCountDown = this.dismissSecs//弹出警告框\r\n                        let lendBook = {bookId:this.bookMsg[0].number,startTime:new Date,day:this.day}\r\n                        this.$store.commit('lendBook',lendBook)\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            wxbook: function () {  //通过方法访问\r\n                return this.$store.getters.wxBook;\r\n            },\r\n            lsbook: function () {  //通过方法访问\r\n                return this.$store.getters.lsBook;\r\n            },\r\n            zxbook: function () {  //通过方法访问\r\n                return this.$store.getters.zxBook;\r\n            },\r\n            kjbook: function () {  //通过方法访问\r\n                return this.$store.getters.kjBook;\r\n            },\r\n            shkxbook: function () {  //通过方法访问\r\n                return this.$store.getters.shkxBook;\r\n            },\r\n            ysbook: function () {  //通过方法访问\r\n                return this.$store.getters.ysBook;\r\n            },\r\n            allbook: function () {  //通过方法访问\r\n                return this.$store.getters.allBook;\r\n            },\r\n            tjbook: function () {  //通过方法访问\r\n                return this.$store.getters.tjBook;\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    img{\r\n        width: 100%;\r\n    }\r\n    .bookType{\r\n\r\n    }\r\n    .arrow{\r\n        cursor:pointer\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views"}]}