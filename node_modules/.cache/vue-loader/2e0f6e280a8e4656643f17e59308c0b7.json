{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\components\\nav.vue?vue&type=style&index=0&id=3cdfc17e&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\components\\nav.vue","mtime":1567995857580},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.navMsg{\r\n\r\n}\r\n.headImg a{\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    Padding: 0px;\r\n}\r\n.navMsg a{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.navMsg p{\r\n    margin: 0px;\r\n    margin-left: 10px;\r\n}\r\n",{"version":3,"sources":["nav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nav.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"nav\">\r\n        <b-navbar toggleable=\"lg\" type=\"dark\" variant=\"info\" nav-fixed-top style=\"width: 100%\">\r\n            <b-navbar-brand href=\"#\">BookLending</b-navbar-brand>\r\n\r\n            <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\r\n\r\n            <b-collapse id=\"nav-collapse\" is-nav>\r\n                <b-navbar-nav>\r\n                    <b-nav-item to=\"index\" class=\"navMsg\">首页</b-nav-item>\r\n                    <b-nav-item to=\"bookType\" class=\"navMsg\">图书</b-nav-item>\r\n                    <b-nav-item to=\"find\" class=\"navMsg\">发现</b-nav-item>\r\n                    <b-nav-item :to=\"path\" class=\"navMsg\" @click=\"goMy()\">我的</b-nav-item>\r\n                </b-navbar-nav>\r\n                <b-navbar-nav class=\"ml-auto\">\r\n                    <b-nav-item v-b-modal.modal-1 v-if=\"show\" @click=\"registrationSuccess = false\">注册</b-nav-item>\r\n                    <b-nav-item v-b-modal.modal-2 v-if=\"show\">登录</b-nav-item>\r\n                    <b-nav-item v-if=\"!show\" class=\"headImg\"><img :src=\"userMsg.headImg\" alt=\"\" style=\"width: 13%;border-radius: 100%;margin-right: 20px;\"><p style=\"margin: 0px;\" @click=\"esc()\">退出</p></b-nav-item>\r\n                </b-navbar-nav>\r\n            </b-collapse>\r\n        </b-navbar><!--导航-->\r\n        <b-modal id=\"modal-1\" title=\"注册账号\"  hide-footer>\r\n            <b-alert :show=\"dismissCountDown\" dismissible variant=\"danger\" @dismissed=\"dismissCountDown=0\" fade>\r\n                <p style=\"margin: 0px\">{{errMsg}}</p>\r\n            </b-alert><!--警告框-->\r\n            <h3 v-if=\"registrationSuccess\">注册成功</h3>\r\n            <p  v-if=\"registrationSuccess\" style=\"color: #17a2b8;cursor:pointer \" @click=\"goLogin()\">去登录</p>\r\n            <b-input-group size=\"lg\" v-if=\"!registrationSuccess\">\r\n                <p style=\"margin-bottom: 5px\">账号:</p>\r\n                <b-form-input class=\"w-100\" style=\"border-radius: 10px;margin-bottom: 20px\" v-model=\"id\"></b-form-input>\r\n                <p style=\"margin-bottom: 5px\">密码:</p>\r\n                <b-form-input type=\"password\" class=\"w-100\" style=\"border-radius: 10px;margin-bottom: 20px\" v-model=\"password\"></b-form-input>\r\n                <b-button variant=\"info\" class=\"w-100\" @click=\"registered()\">注册</b-button>\r\n            </b-input-group>\r\n        </b-modal>\r\n        <b-modal id=\"modal-2\" title=\"登录账号\"  hide-footer>\r\n            <b-alert :show=\"dismissCountDown\" dismissible variant=\"danger\" @dismissed=\"dismissCountDown=0\" fade>\r\n                <p>{{errMsg}}</p>\r\n            </b-alert><!--警告框-->\r\n            <b-input-group size=\"lg\">\r\n                <p style=\"margin-bottom: 5px\">账号:</p>\r\n                <b-form-input class=\"w-100\" style=\"border-radius: 10px;margin-bottom: 20px\" v-model=\"id\"></b-form-input>\r\n                <p style=\"margin-bottom: 5px\">密码:</p>\r\n                <b-form-input type=\"password\" class=\"w-100\" style=\"border-radius: 10px;margin-bottom: 20px\" v-model=\"password\"></b-form-input>\r\n                <b-button variant=\"info\" class=\"w-100\" @click=\"login()\">登录</b-button>\r\n            </b-input-group>\r\n        </b-modal>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"nav\",\r\n        data(){\r\n            return {\r\n                id:'',\r\n                password:'',\r\n                dismissSecs: 1,\r\n                dismissCountDown: 0,\r\n                errMsg:'',\r\n                userMsg:{},\r\n                show:true,\r\n                registrationSuccess:false,\r\n                path:'index'\r\n            }\r\n        },\r\n        methods:{\r\n            login:function () {//登录验证\r\n                //console.log(this.id,this.password)\r\n\r\n                let user = {id:this.id,password:this.password}\r\n                this.$store.commit('login', user)//判断是否真确\r\n                let loginMsg = this.$store.getters.loginMsg//获取返回信息\r\n                if(loginMsg.loginStatus != '成功'){\r\n                    this.errMsg = loginMsg.loginStatus//错误信息\r\n                    this.dismissCountDown = this.dismissSecs//弹出警告框\r\n                } else{\r\n                    this.path = \"my\"\r\n                    this.show = false\r\n                    this.userMsg = loginMsg.loginUser\r\n                    this.id = ''\r\n                    this.password = ''\r\n                    this.$bvModal.hide('modal-2')\r\n                }\r\n            },\r\n            registered:function () {//注册\r\n                let user = {id:this.id,password:this.password}\r\n                this.$store.commit('registeredStatus', user)//注册\r\n                let registeredStatusMsg = this.$store.getters.registeredStatusMsg//获取返回信息\r\n                if(registeredStatusMsg != '注册成功'){\r\n                    this.errMsg = registeredStatusMsg//错误信息\r\n                    this.dismissCountDown = this.dismissSecs//弹出警告框\r\n                } else{\r\n                    this.registrationSuccess = true\r\n                    this.id = ''\r\n                    this.password = ''\r\n                }\r\n            },\r\n            esc:function(){\r\n                let path = this.$route.path\r\n                if(path == \"/my\"){\r\n                    this.$router.push({ path:'/index'})\r\n                }\r\n                this.show = true\r\n                this.$store.commit('esc')\r\n            },\r\n\r\n            goLogin:function () {\r\n                this.$bvModal.hide('modal-1')\r\n                this.$bvModal.show('modal-2')\r\n            },\r\n            goMy:function () {\r\n                let msg = this.$store.getters.loginMsg.loginStatus\r\n                if(msg != \"成功\"){\r\n                    this.path = \"index\"\r\n                    this.$bvModal.show('modal-2')\r\n                }else{\r\n                    this.path = \"my\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.navMsg{\r\n\r\n}\r\n.headImg a{\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    Padding: 0px;\r\n}\r\n.navMsg a{\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n.navMsg p{\r\n    margin: 0px;\r\n    margin-left: 10px;\r\n}\r\n</style>\r\n"]}]}