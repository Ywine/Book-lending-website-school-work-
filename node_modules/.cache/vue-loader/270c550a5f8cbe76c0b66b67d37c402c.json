{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\views\\my.vue?vue&type=style&index=0&id=3848bfb5&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\src\\views\\my.vue","mtime":1568010843347},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web课程设计\\vue-app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.userBox{\n    padding: 20px;\n    width: 80%;\n    margin: 0px auto;\n}\n.userBox img{\n    width: 12%;\n    border-radius: 12%;\n}\n.user{\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n.books{\n    display: flex;\n    flex-wrap: wrap;\n}\n.wrap_01{\n    background-color: #fff;\n    box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.4);\n    border-radius: 15px;\n    padding: 5%;\n}\n.content{\n    height: 13rem;\n}\n.day{\n    font-size: 2.5rem;\n    margin: 0px;\n}\n.day,.time{\n    text-align: center;\n    color:  #f34303;\n}\n.bookMsg{\n    margin-top: 15px;\n    text-align: center;\n}\n.bookDay{\n    margin-top: 20px;\n}\n",{"version":3,"sources":["my.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"my.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"my\">\r\n        <div class=\"userBox\">\r\n            <b-col class=\"user\" xl=\"12\">\r\n                <img :src=\"user.headImg\" alt=\"\">\r\n                <p style=\"margin: 0;margin-top: 20px\">ID:{{user.id}}</p>\r\n            </b-col>\r\n            <h3 style=\"margin-top: 20px;margin-left: 32px\">已借书籍</h3>\r\n            <b-col xl=\"12\" class=\"books\">\r\n                <b-col class=\"bookDay\" sm=\"12\" xl=\"4\" v-for=\"item,index in user.lend\" >\r\n                    <div class=\"wrap_01\">\r\n                        <CircleProgress\r\n                                :id=\"index\"\r\n                                :width=\"15\"\r\n                                :radius=\"15\"\r\n                                :progress=\"last[index]/item.day*100\"\r\n                                barColor=\"#f34303\"\r\n                                backgroundColor=\"#f0f2f5\"\r\n                                :isAnimation=\"true\"\r\n                        ><p class=\"day\">{{last[index]}}天</p></CircleProgress>\r\n                        <div class=\"bookMsg\">\r\n                            <h5>{{myBook[index][0].name}}</h5>\r\n                            <p>书号：{{myBook[index][0].number}}</p>\r\n                            <p>作者：{{myBook[index][0].Author}}</p>\r\n                            <p>借书日期：{{startTime[index]}}</p>\r\n                            <p>还书日期：{{returnDate[index]}}</p>\r\n                        </div>\r\n                    </div>\r\n                </b-col>\r\n            </b-col>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import CircleProgress  from 'vue-circleprogressbar';\r\n    export default {\r\n        name: \"my\",\r\n        data(){\r\n            return {\r\n                myBook:[],\r\n                returnDate:[],\r\n                startTime:[],\r\n                last:[],\r\n                show:''\r\n            }\r\n        },\r\n        components:{\r\n            CircleProgress\r\n        },\r\n        computed: {\r\n            user: function () {  //通过方法访问\r\n                let user = this.$store.getters.loginMsg.loginUser\r\n                let allbook = this.$store.getters.allBook\r\n                let that = this\r\n                user.lend.forEach((item,index) => {\r\n                    that.myBook[index] = allbook.filter(book => book.number=== item.bookId)\r\n                    let time = new Date(item.startTime)\r\n                    let now = new Date()\r\n                    time.setDate(Number(time.getDate())+Number(item.day));\r\n                    that.returnDate[index] = time.getFullYear()+'-'+(time.getMonth()+1)+'-'+time.getDate()\r\n                    that.startTime[index] = item.startTime.getFullYear()+'-'+(item.startTime.getMonth()+1)+'-'+item.startTime.getDate()\r\n                    let oDate1 = new Date(time.getMonth()+'-'+time.getDate()+'-'+time.getFullYear()) //转换为9-25-2017格式\r\n                    let oDate2 = new Date(now.getMonth()+'-'+now.getDate()+'-'+now.getFullYear())\r\n                    let iDays = parseInt(Math.abs(oDate1 - oDate2) / 1000 / 60 / 60 / 24) //把相差的毫秒数转换为天数\r\n                    that.last[index] = iDays\r\n                    console.log(that.last[index])\r\n                })\r\n                return user\r\n            },\r\n\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .userBox{\r\n        padding: 20px;\r\n        width: 80%;\r\n        margin: 0px auto;\r\n    }\r\n    .userBox img{\r\n        width: 12%;\r\n        border-radius: 12%;\r\n    }\r\n    .user{\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .books{\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n    .wrap_01{\r\n        background-color: #fff;\r\n        box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.4);\r\n        border-radius: 15px;\r\n        padding: 5%;\r\n    }\r\n    .content{\r\n        height: 13rem;\r\n    }\r\n    .day{\r\n        font-size: 2.5rem;\r\n        margin: 0px;\r\n    }\r\n    .day,.time{\r\n        text-align: center;\r\n        color:  #f34303;\r\n    }\r\n    .bookMsg{\r\n        margin-top: 15px;\r\n        text-align: center;\r\n    }\r\n    .bookDay{\r\n        margin-top: 20px;\r\n    }\r\n</style>\r\n"]}]}